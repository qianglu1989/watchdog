webpackJsonp([2],{FP3a:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("fZjL"),r=e.n(o),i=e("mtWM"),n=e.n(i),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/home/getHomeData";return n.a.defaults.headers.common.project=window.localStorage.getItem("pjValue"),n.a.defaults.headers.common.profile=window.localStorage.getItem("prValue"),n.a.get(a,{params:t})},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/home/methodDuration";return n.a.defaults.headers.common.project=window.localStorage.getItem("pjValue"),n.a.defaults.headers.common.profile=window.localStorage.getItem("prValue"),n.a.get(a,{params:t})},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/home/concurrent";return n.a.defaults.headers.common.project=window.localStorage.getItem("pjValue"),n.a.defaults.headers.common.profile=window.localStorage.getItem("prValue"),n.a.get(a,{params:t})},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/data/errorList";return n.a.defaults.headers.common.project=window.localStorage.getItem("pjValue"),n.a.defaults.headers.common.profile=window.localStorage.getItem("prValue"),n.a.get(a,{params:t})},p=e("XhSL"),u=(e("4UDB"),e("Vb+l"),e("wQkr"),e("80cc"),e("Oq2I"),e("YsUA"),e("miEh"),{name:"home",data:function(){return{date:"",seleType:1,type:"0",typeData:[{value:"0",label:"一小时"},{value:"1",label:"一天"},{value:"2",label:"周期"}],currTab:"1",currRow:{},homeList:[],topList:[],errorList:[],currList:[],form:{appcount:"",ips:"",instances:"",ifcount:""},pipData:{title:{text:"服务实例流量占比",x:"center"},tooltip:{trigger:"item",formatter:"{a}  <br/> {c} ({d}%)<br/>{b} "},legend:{orient:"vertical",show:!1},series:[{name:"处理量",type:"pie",radius:"55%",center:["50%","60%"],data:[],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},chartData:{tooltip:{trigger:"axis"},legend:{show:!1,data:[]},title:{text:"Throughput/min"},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value"},dataZoom:[{type:"slider"}],series:[{name:"",type:"line",data:[]}]},chartLoading:!1}},methods:{getHomeList:function(){var t=this;return s().then(function(a){t.form.appcount=a.data.appcount,t.form.ips=a.data.ips,t.form.instances=a.data.instances,t.form.ifcount=a.data.ifcount})},getTopData:function(){var t=this;return l().then(function(a){t.topList=a.data})},getCurrTopData:function(){var t=this;return c().then(function(a){t.currList=a.data})},getErrorTopData:function(){var t=this;return d().then(function(a){var e=a.data,o=void 0===e?{}:e;t.errorList=r()(o).reduce(function(t,a,e){return t.push({key:a,value:o[a],index:e+1}),t},[])})},getPipData:function(){var t=this;this.axios.defaults.headers.common.project=window.localStorage.getItem("pjValue"),this.axios.defaults.headers.common.profile=window.localStorage.getItem("prValue"),this.axios.get("/home/getPipData").then(function(a){console.log(a),t.pipData.series=[{name:"处理量",type:"pie",radius:"65%",center:["50%","50%"],selectedMode:"single",data:a.data,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},rowClick:function(t){this.currRow=t},changeCharts:function(t){"1"==t?this.getChartData():"2"==t&&this.getDurationChartData()},getDurationChartData:function(){var t=this;this.chartLoading=!0,this.axios.defaults.headers.common.project=window.localStorage.getItem("pjValue"),this.axios.defaults.headers.common.profile=window.localStorage.getItem("prValue"),this.axios.get("/home/getDurationChartData",{params:{type:this.type,date:this.date}}).then(function(t){}).finally(function(){t.chartLoading=!1})},getChartData:function(){var t=this;this.chartLoading=!0,this.axios.defaults.headers.common.project=window.localStorage.getItem("pjValue"),this.axios.defaults.headers.common.profile=window.localStorage.getItem("prValue"),this.axios.get("/home/getHomeChartData",{params:{type:this.type,date:this.date}}).then(function(a){t.chartData.xAxis.data=[];var e=a.data.map(function(t){return{name:t.name,type:"line",data:t.yaxis}}),o=a.data[0].xaxis;t.chartData.legend.data=e.map(function(t){return t.name}),t.chartData.xAxis.data=o,t.chartData.series=e}).finally(function(){t.chartLoading=!1})}},computed:{},mounted:function(){this.getHomeList(),this.getPipData(),this.getTopData(),this.getCurrTopData(),this.getErrorTopData()},components:{IEcharts:p.a}}),h={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{background:"#F2F6FC",padding:"10px"}},[e("el-row",{ref:"form",attrs:{model:t.form}},[e("el-col",{attrs:{span:6}},[e("div",{staticStyle:{background:"#F2F6FC",padding:"5px"}},[e("el-card",{staticClass:"box-card",staticStyle:{background:"#FBFDFF"}},[e("el-tooltip",{attrs:{placement:"top"}},[e("el-button",[t._v("应用数量")])],1),t._v(" "),e("div",{staticStyle:{weight:"100%",padding:"10px"},on:{click:function(a){t.dialogTableVisible=!0}}},[e("span",{staticStyle:{"font-size":"1.2cm"}},[t._v("\n                            "+t._s(t.form.appcount)+"\n                        ")])])],1)],1)]),t._v(" "),e("el-col",{attrs:{span:6}},[e("div",{staticStyle:{background:"#F2F6FC",padding:"5px"}},[e("el-card",{staticClass:"box-card",staticStyle:{background:"#FBFDFF"}},[e("el-tooltip",{attrs:{placement:"top"}},[e("el-button",[t._v("实例数量")])],1),t._v(" "),e("div",{staticStyle:{weight:"100%",padding:"10px"}},[e("span",{staticStyle:{"font-size":"1.2cm"}},[t._v("\n                             "+t._s(t.form.instances)+"\n                        ")])])],1)],1)]),t._v(" "),e("el-col",{attrs:{span:6}},[e("div",{staticStyle:{background:"#F2F6FC",padding:"5px"}},[e("el-card",{staticClass:"box-card",staticStyle:{background:"#FBFDFF"}},[e("el-tooltip",{attrs:{placement:"top"}},[e("el-button",[t._v("IP主机数")])],1),t._v(" "),e("div",{staticStyle:{weight:"100%",padding:"10px"}},[e("span",{staticStyle:{"font-size":"1.2cm"}},[t._v("\n                             "+t._s(t.form.ips)+"\n                        ")])])],1)],1)]),t._v(" "),e("el-col",{attrs:{span:6}},[e("div",{staticStyle:{background:"#F2F6FC",padding:"5px"}},[e("el-card",{staticClass:"box-card",staticStyle:{background:"#FBFDFF"}},[e("el-tooltip",{attrs:{placement:"top"}},[e("el-button",[t._v("接口数量")])],1),t._v(" "),e("div",{staticStyle:{weight:"100%",padding:"10px"}},[e("span",{staticStyle:{"font-size":"1.2cm"}},[t._v("\n                             "+t._s(t.form.ifcount)+"\n                        ")])])],1)],1)])],1),t._v(" "),e("el-row",[e("el-col",{attrs:{span:12}},[e("div",{staticStyle:{background:"#F2F6FC",padding:"10px"}},[e("el-card",{staticClass:"box-card",staticStyle:{height:"400px",background:"#F2F6FC",padding:"10px"}},[e("i-echarts",{staticStyle:{width:"100%",height:"400px"},attrs:{option:t.pipData,loading:t.chartLoading}})],1)],1)]),t._v(" "),e("el-col",{attrs:{span:12}},[e("div",{staticStyle:{background:"#F2F6FC",padding:"10px"}},[e("el-card",{staticClass:"box-card",staticStyle:{height:"400px",background:"#F2F6FC"}},[e("el-tabs",{attrs:{type:"border-card"}},[e("el-tab-pane",{attrs:{label:"并发排行榜"}},[e("el-table",{attrs:{data:t.currList,stripe:"true",width:"100%",align:"right",stripe:!0,"header-align":"right","max-height":"550"}},[e("el-table-column",{attrs:{prop:"name",label:"Service"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"concurrent",label:"Concurrent Count"}})],1)],1),t._v(" "),e("el-tab-pane",{attrs:{label:"耗时排行榜"}},[e("el-table",{attrs:{data:t.topList,stripe:"true",width:"100%",align:"right",stripe:!0,"header-align":"right","max-height":"550"}},[e("el-table-column",{attrs:{prop:"name",label:"Service"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"duration",label:"Duration(ms)"}})],1)],1),t._v(" "),e("el-tab-pane",{attrs:{label:"异常排行榜"}},[e("el-table",{attrs:{data:t.errorList,stripe:"true",width:"100%",align:"right",stripe:!0,"header-align":"right","max-height":"550"}},[e("el-table-column",{attrs:{prop:"key",label:"Service"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"value",label:"Error Count"}})],1)],1)],1)],1)],1)])],1)],1)},staticRenderFns:[]};var g=e("VU/8")(u,h,!1,function(t){e("cKRN")},"data-v-1d119b52",null);a.default=g.exports},cKRN:function(t,a){}});
//# sourceMappingURL=2.e4adf966a108890d9b6c.js.map