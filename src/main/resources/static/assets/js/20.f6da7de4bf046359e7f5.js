webpackJsonp([20],{"FQ/S":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("fZjL"),o=a.n(i),r=a("woOf"),l=a.n(r),n=a("mtWM"),s=a.n(n),c=a("lbHh"),d=a.n(c),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"manager/getMetaData";return s.a.defaults.headers.common.project=window.localStorage.getItem("pjValue"),s.a.defaults.headers.common.profile=window.localStorage.getItem("prValue"),s.a.get(e,{params:{token:d.a.get("token")}})},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manager/updateMetaData";return s.a.defaults.headers.common.project=window.localStorage.getItem("pjValue"),s.a.defaults.headers.common.profile=window.localStorage.getItem("prValue"),e.token=d.a.get("token"),s.a.get(t,{params:e})},p={name:"appManage",data:function(){return{searchKey:"",dataList:[],dialogVisible:!1,formObj:{},form:{app:"",instanceId:"",ip:"",port:"",weight:""}}},methods:{getDetail:function(e){this.formObj=l()({},e.obj),this.form=e.obj,this.dialogVisible=!0},handleClose:function(){this.dialogVisible=!1},onSubmit:function(){var e=this;this.formObj.weight!==this.form.weight?parseInt(this.form.weight)>10||parseInt(this.form.weight)<0?this.$message({message:"[0,10]范围",type:"warning"}):m({app:this.form.app,instanceId:this.form.instanceId,weight:this.form.weight}).then(function(t){e.dialogVisible=!1}):this.dialogVisible=!1}},mounted:function(){var e=this;f().then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.dataList=o()(t.data).reduce(function(e,a,i){return e.push({name:a,obj:t.data[a],index:i}),e},[])}).catch(function(t){console.log(t),e.$message.error("请求失败，请联系程序猿改BUG!")})},computed:{filteredList:function(){var e=this;return this.dataList.filter(function(t){return t.name.includes(e.searchKey)})||[]}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("el-input",{attrs:{placeholder:"请输入过滤条件"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)]),e._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark",attrs:{id:"gather-data-form"}},[a("el-table",{attrs:{data:e.filteredList,width:"100%",align:"right",stripe:!0,"header-align":"right"},on:{"row-click":e.getDetail}},[a("el-table-column",{attrs:{prop:"name",label:"实例"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("el-dialog",{attrs:{title:"详细信息",visible:e.dialogVisible,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"APP"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.app,callback:function(t){e.$set(e.form,"app",t)},expression:"form.app"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"INSTANCE ID"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.instanceId,callback:function(t){e.$set(e.form,"instanceId",t)},expression:"form.instanceId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"IP"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.ip,callback:function(t){e.$set(e.form,"ip",t)},expression:"form.ip"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"PORT"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.port,callback:function(t){e.$set(e.form,"port",t)},expression:"form.port"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"WEIGHT"}},[a("el-input",{model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",t)},expression:"form.weight"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)])],1)])],1)},staticRenderFns:[]};var g=a("VU/8")(p,u,!1,function(e){a("jav0")},"data-v-0edf1701",null);t.default=g.exports},jav0:function(e,t){}});
//# sourceMappingURL=20.f6da7de4bf046359e7f5.js.map